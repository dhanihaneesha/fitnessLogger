{% extends "base.html" %} {% block title %}History - Fitness Logger{% endblock
%} {% block content %}

<h2 style="margin-bottom: 20px; color: #2d3748">Your Fitness Log History</h2>

<div class="category-filters">
  <a
    href="{{ url_for('history') }}"
    class="category-filter {% if current_filter == 'All' %}active{% endif %}"
  >
    All Logs
  </a>
  {% for category in categories %}
  <a
    href="{{ url_for('history', category=category) }}"
    class="category-filter {% if current_filter == category %}active{% endif %}"
  >
    {{ category }}
  </a>
  {% endfor %}
</div>

{% if entries %}
<p style="margin-bottom: 20px; color: #8898aa">
  Showing {{ entries|length }} {% if current_filter == 'All' %} logs {% else %}
  {{ current_filter }} logs {% endif %}
</p>

<div class="entries-grid">
  {% for entry in entries %}
  <div class="entry-card">
    <h3>{{ entry.title }}</h3>
    <div class="entry-meta">
      <span
        class="category-badge category-{{ entry.category.lower().replace(' ', '-') }}"
      >
        {{ entry.category }}
      </span>
      <span>{{ entry.date.strftime('%B %d, %Y at %I:%M %p') }}</span>
    </div>
    <p class="entry-content">
      {{ entry.content[:200] }}{% if entry.content|length > 200 %}...{% endif %}
    </p>

    {% if entry.calories_burned or entry.calories_consumed %}
    <p class="entry-calories" style="margin-top: 8px; color: #2d3748">
      {% if entry.calories_burned %} üî• <strong>Burned:</strong> {{
      entry.calories_burned }} kcal {% endif %} {% if entry.calories_consumed %}
      <br />üçΩÔ∏è <strong>Consumed:</strong> {{ entry.calories_consumed }} kcal {%
      endif %}
    </p>
    {% endif %}

    <a href="{{ url_for('view_entry', entry_id=entry.id) }}" class="view-link"
      >View Details ‚Üí</a
    >
  </div>
  {% endfor %}
</div>
{% else %}
<div class="empty-state">
  <h2>No logs found</h2>
  <p>
    {% if current_filter == 'All' %} You haven't added any fitness logs yet. {%
    else %} You haven't added any {{ current_filter }} logs yet. {% endif %}
  </p>
  <br />
  <a href="{{ url_for('new_entry') }}" class="btn">Add New Log</a>
</div>
{% endif %} {% endblock %}
